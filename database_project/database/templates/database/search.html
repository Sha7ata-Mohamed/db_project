{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Search</title>
    <link rel="stylesheet" href="{% static 'database/style.css' %}" />
  </head>
  <body>
    <div class="container">
      <h1><a href="{% url 'search' %}">Search</a></h1>

      <form method="get" class="searchbar">
        {{ form.q }}
        <button type="submit">Search</button>
      </form>

      {% if q %}
        <p>
          Results for: <b>{{ q }}</b>
        </p>
      {% endif %} {% if results %}
        <div class="table-wrap">
          <table class="results-table">
            <thead>
              <tr>
                <th>Researcher ID</th>
                <th>Name</th>
                <th>Affiliation</th>
                <th>Country</th>
                <th>Email</th>
                <th>Specialty</th>
                <th>Research ID</th>
                <th>Title</th>
                <th>Publication Date</th>
                <th>Type</th>
                <th>Journal</th>
                <th>Conference</th>
                <th>Keywords</th>
              </tr>
            </thead>

            <tbody>
              {% for row in results %}
                <tr>
                  <td>{{ row.researcher_id }}</td>
                  <td>{{ row.name }}</td>
                  <td>{{ row.affiliation|default:'-' }}</td>
                  <td>{{ row.country|default:'-' }}</td>
                  <td>{{ row.email|default:'-' }}</td>
                  <td>{{ row.specialty|default:'-' }}</td>

                  <td>{{ row.research_id|default:'-' }}</td>
                  <td class="cell-wrap">{{ row.title|default:'-' }}</td>
                  <td>{{ row.publication_date|default:'-' }}</td>
                  <td>{{ row.research_type|default:'-' }}</td>

                  <td>{{ row.journal_name|default:'-' }}</td>
                  <td>{{ row.conference_name|default:'-' }}</td>
                  <td class="cell-wrap">{{ row.keywords|default:'-' }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        {% if q %}
          <p class="empty">No results.</p>
        {% endif %}
      {% endif %}
    </div>
  </body>
</html>
